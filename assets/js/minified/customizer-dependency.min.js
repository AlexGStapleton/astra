!function(o){"use strict";var u=wp.customize,e={controls:{},init:function(){var i=this;i.handleDependency(),i.hideEmptySections(),u.bind("change",function(e){i.handleDependency(),i.hideEmptySections()})},handleDependency:function(){var a=this,e=u.get();_.each(e,function(e,i){var n=u.control(i);a.checkControlVisibility(n,i)})},checkControlVisibility:function(e,i){var n=u.get();if(!_.isUndefined(e)&&void 0!==astra.config[i]){var a=astra.config[i],s=_.isUndefined(a.conditions)?a:a.conditions,t=_.isUndefined(a.operator)?"AND":a.operator;void 0!==s&&(this.checkDependency(s,n,t)?e.container.removeClass("ast-hide"):e.container.addClass("ast-hide"))}},checkDependency:function(e,r,d){var f=this,l=!0,h=!1,i=e[0];if(_.isString(i)){var n,a=e[1],s=e[2];if(void 0!==astra.config[i]){e=_.isUndefined(astra.config[i].conditions)?astra.config[i]:astra.config[i].conditions;var t=_.isUndefined(astra.config[i].operator)?"AND":astra.config[i].operator;if(!_.isUndefined(e))if(f.checkDependency(e,r,t))u.control(i).container.removeClass("ast-hide");else if(l=!(h=!0),"AND"==d)return}_.isUndefined(r[i])||h||!l||(n=r[i],l=f.compareValues(n,a,s))}else _.isArray(i)&&(o.each(e,function(e,i){var n=i[0],a=i[1],s=i[2],t=_.isUndefined(r[n])?"":r[n];if(void 0!==astra.config[n]){var o=_.isUndefined(astra.config[n].conditions)?astra.config[n]:astra.config[n].conditions,c=_.isUndefined(astra.config[n].operator)?"AND":astra.config[n].operator;if(!_.isUndefined(o))if(f.checkDependency(o,r,c))l=!0,u.control(n).container.removeClass("ast-hide");else if(l=!1,"AND"==d)return}else l=!0;if(l)if("AND"==d){if(!f.compareValues(t,a,s))return l=!1}else l=!!f.compareValues(t,a,s)&&(h=!0)}),h&&"OR"==d&&(l=!0));return l},hideEmptySections:function(){o("ul.accordion-section.control-section-ast_section").each(function(){var e=o(this).attr("id"),i=!1,n=o(this).find(" > .customize-control");0<n.length&&(n.each(function(){o(this).hasClass("ast-hide")||"none"==o(this).css("display")||(i=!0)}),i?o('.control-section[aria-owns="'+e+'"]').removeClass("ast-hide"):o('.control-section[aria-owns="'+e+'"]').addClass("ast-hide"))})},compareValues:function(e,i,n){var a=!1;switch(i){case"===":a=e===n;break;case">":a=n<e;break;case"<":a=e<n;break;case"<=":a=e<=n;break;case">=":a=n<=e;break;case"!=":a=e!=n;break;case"empty":var s=_.clone(e);_.isObject(s)||_.isArray(s)?(_.each(s,function(e,i){_.isEmpty(e)&&delete s[i]}),a=!!_.isEmpty(s)):a=!(!_.isNull(s)&&""!=s);break;case"not_empty":s=_.clone(e);(_.isObject(s)||_.isArray(s))&&_.each(s,function(e,i){_.isEmpty(e)&&delete s[i]}),a=!_.isEmpty(s);break;case"contains":_.isArray(e)&&-1!==o.inArray(n,e)&&(a=!0);break;default:a=_.isArray(n)?!_.isEmpty(n)&&!_.isEmpty(e)&&_.contains(n,e):e==n}return a}};o(function(){e.init()})}(jQuery);