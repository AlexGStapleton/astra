!function(n){jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["ast-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl()},initAstBgControl:function(){var i=this,e=i.setting._value,t=i.container.find(".ast-color-control");i.container.find(".background-wrapper > .background-repeat").hide(),i.container.find(".background-wrapper > .background-position").hide(),i.container.find(".background-wrapper > .background-size").hide(),i.container.find(".background-wrapper > .background-attachment").hide(),!_.isUndefined(e["background-image"])&&""!==e["background-image"]||i.container.find(".more-settings").hide(),t.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){i.saveValue("background-color",t.val())},100)},clear:function(e){jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&i.saveValue("background-color","")}}),i.container.on("change",".background-repeat select",function(){i.saveValue("background-repeat",jQuery(this).val())}),i.container.on("change click",".background-size input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),i.saveValue("background-size",jQuery(this).val())}),i.container.on("change",".background-position select",function(){i.saveValue("background-position",jQuery(this).val())}),i.container.on("change click",".background-attachment input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),i.saveValue("background-attachment",jQuery(this).val())}),i.container.on("click",".background-image-upload-button, .thumbnail-image img",function(e){var o=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=o.state().get("selection").first(),r=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(r=a.toJSON().sizes.thumbnail.url):r=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&i.container.find(".more-settings").show(),i.saveValue("background-image",e),t=i.container.find(".placeholder, .thumbnail"),n=i.container.find(".background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});e.preventDefault()}),i.container.on("click",".background-image-upload-remove-button",function(e){var t,n;e.preventDefault(),i.saveValue("background-image",""),t=i.container.find(".placeholder, .thumbnail"),n=i.container.find(".background-image-upload-remove-button"),i.container.find(".background-wrapper > .background-repeat").hide(),i.container.find(".background-wrapper > .background-position").hide(),i.container.find(".background-wrapper > .background-size").hide(),i.container.find(".background-wrapper > .background-attachment").hide(),i.container.find(".more-settings").attr("data-direction","down"),i.container.find(".more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),i.container.find(".more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide()}),i.container.on("click",".more-settings",function(e){i.container.find(".background-wrapper > .background-repeat").toggle(),i.container.find(".background-wrapper > .background-position").toggle(),i.container.find(".background-wrapper > .background-size").toggle(),i.container.find(".background-wrapper > .background-attachment").toggle(),"down"===n(this).attr("data-direction")?(n(this).attr("data-direction","up"),n(this).find(".message").html(astraCustomizerControlBackground.lessSettings),n(this).find(".icon").html("↑")):(n(this).attr("data-direction","down"),n(this).find(".message").html(astraCustomizerControlBackground.moreSettings),n(this).find(".icon").html("↓"))})},saveValue:function(e,t){var n=this,a=jQuery("#customize-control-"+n.id.replace("[","-").replace("]","")+" .background-hidden-value"),r=n.setting._value;r[e]=t,jQuery(a).attr("value",JSON.stringify(r)).trigger("change"),n.setting.set(r)}})}(jQuery),jQuery,wp.customize.controlConstructor["ast-border"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("change keyup paste","input.ast-border-input",function(){jQuery(this).val(),e.updateValue()})},updateValue:function(){"use strict";var a={top:"",right:"",bottom:"",left:""};this.container.find("input.ast-border-desktop").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),this.setting.set(a)}}),jQuery(document).ready(function(){jQuery(".ast-border-connected").on("click",function(){jQuery(this).parent().parent(".ast-border-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".ast-border-input-item-link").removeClass("disconnected")}),jQuery(".ast-border-disconnected").on("click",function(){var e=jQuery(this).data("element-connect");jQuery(this).parent().parent(".ast-border-wrapper").find("input").addClass("connected").attr("data-element-connect",e),jQuery(this).parent(".ast-border-input-item-link").addClass("disconnected")}),jQuery(".ast-border-input-item").on("input",".connected",function(){var e=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".ast-border-wrapper").find('.connected[ data-element-connect="'+e+'" ]').each(function(e,t){jQuery(this).val(n).change()})})}),jQuery,jQuery(window).on("load",function(){jQuery("html").addClass("colorpicker-ready")}),wp.customize.controlConstructor["ast-color"]=wp.customize.Control.extend({ready:function(){"use strict";var a=this;this.container.find(".ast-color-picker-alpha").wpColorPicker({change:function(e,t){e.target;var n=t.color.toString();jQuery("html").hasClass("colorpicker-ready")&&a.setting.set(n)},clear:function(e){jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&a.setting.set("")}})}}),jQuery,wp.customize.controlConstructor["ast-link"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this,n=jQuery(".customize-link-control-data").data("value");this.container.on("change keyup",".ast-link-input",function(e){e.preventDefault(),value=jQuery(this).val(),n.url=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),t.setting.set(n)}),this.container.on("change click",".ast-link-open-in-new-tab",function(){value=jQuery(this).is(":checked"),n.new_tab=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),t.setting.set(n)}),this.container.on("change keyup",".ast-link-relationship",function(e){e.preventDefault(),value=jQuery(this).val(),n.link_rel=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),t.setting.set(n)})}}),jQuery,jQuery(window).on("load",function(){jQuery("html").addClass("responsive-background-color-ready")}),wp.customize.controlConstructor["ast-responsive-color"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl()},initAstBgControl:function(){var o=this;o.setting._value,o.container.find(".ast-responsive-color").wpColorPicker({change:function(e,t){if(jQuery("html").hasClass("responsive-background-color-ready")){var n=o.setting.get(),a=jQuery(this).data("id"),r={desktop:n.desktop,tablet:n.tablet,mobile:n.mobile};"desktop"===a&&(r.desktop=t.color.toString()),"tablet"===a&&(r.tablet=t.color.toString()),"mobile"===a&&(r.mobile=t.color.toString()),o.setting.set(r)}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id"),a=o.setting.get(),r={desktop:a.desktop,tablet:a.tablet,mobile:a.mobile};t&&("desktop"===n&&(r.desktop=""),"tablet"===n&&(r.tablet=""),"mobile"===n&&(r.mobile=""),o.setting.set(r))}}),this.container.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")}),jQuery(".customize-control-ast-responsive-color .customize-control-content .ast-responsive-color.desktop").parents(".wp-picker-container").addClass("active")}}),jQuery(".wp-full-overlay-footer .devices button").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-color .customize-control-content .wp-picker-container").removeClass("active"),jQuery(".customize-control-ast-responsive-color .customize-control-content .ast-responsive-color."+e).parents(".wp-picker-container").addClass("active")}),jQuery(window).on("load",function(){jQuery("html").addClass("responsive-background-img-ready")}),wp.customize.controlConstructor["ast-responsive-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl(),this.astResponsiveInit()},initAstBgControl:function(){var s=this,e=s.setting._value,t=s.container.find(".ast-responsive-bg-color-control");!_.isUndefined(e.desktop["background-image"])&&""!==e.desktop["background-image"]||(s.container.find(".background-wrapper > .background-container.desktop > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container.desktop > .background-position").hide(),s.container.find(".background-wrapper > .background-container.desktop > .background-size").hide(),s.container.find(".background-wrapper > .background-container.desktop > .background-attachment").hide()),!_.isUndefined(e.tablet["background-image"])&&""!==e.tablet["background-image"]||(s.container.find(".background-wrapper > .background-container.tablet > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container.tablet > .background-position").hide(),s.container.find(".background-wrapper > .background-container.tablet > .background-size").hide(),s.container.find(".background-wrapper > .background-container.tablet > .background-attachment").hide()),!_.isUndefined(e.mobile["background-image"])&&""!==e.mobile["background-image"]||(s.container.find(".background-wrapper > .background-container.mobile > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container.mobile > .background-position").hide(),s.container.find(".background-wrapper > .background-container.mobile > .background-size").hide(),s.container.find(".background-wrapper > .background-container.mobile > .background-attachment").hide()),t.wpColorPicker({change:function(e,t){var n=jQuery(this).data("id");jQuery("html").hasClass("responsive-background-img-ready")&&s.saveValue(n,"background-color",t.color.toString())},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id");t&&s.saveValue(n,"background-color","")}}),s.container.on("change",".background-repeat select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();s.saveValue(t,"background-repeat",n)}),s.container.on("change click",".background-size input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();e.parent(".buttonset").find(".switch-input").removeAttr("checked"),e.attr("checked","checked"),s.saveValue(t,"background-size",n)}),s.container.on("change",".background-position select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();s.saveValue(t,"background-position",n)}),s.container.on("change click",".background-attachment input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();e.parent(".buttonset").find(".switch-input").removeAttr("checked"),e.attr("checked","checked"),s.saveValue(t,"background-attachment",n)}),s.container.on("click",".background-image-upload-button",function(e){var o=jQuery(this).data("id"),i=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=i.state().get("selection").first(),r=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(r=a.toJSON().sizes.thumbnail.url):r=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&s.container.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),s.saveValue(o,"background-image",e),t=s.container.find(".background-container."+o+" .placeholder, .background-container."+o+" .thumbnail"),n=s.container.find(".background-container."+o+" .background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});e.preventDefault()}),s.container.on("click",".background-image-upload-remove-button",function(e){var t,n,a=jQuery(this).data("id");e.preventDefault(),s.saveValue(a,"background-image",""),t=s.container.find(".background-container."+a+" .placeholder, .background-container."+a+" .thumbnail"),n=s.container.find(".background-container."+a+" .background-image-upload-remove-button"),s.container.find(".background-wrapper > .background-container."+a+" > .background-repeat").hide(),s.container.find(".background-wrapper > .background-container."+a+" > .background-position").hide(),s.container.find(".background-wrapper > .background-container."+a+" > .background-size").hide(),s.container.find(".background-wrapper > .background-container."+a+" > .background-attachment").hide(),s.container.find(".background-container."+a+" .more-settings").attr("data-direction","down"),s.container.find(".background-container."+a+" .more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),s.container.find(".background-container."+a+" .more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide()}),s.container.on("click",".more-settings",function(e){var t=jQuery(this).data("id");s.container.find(".background-wrapper > .background-container."+t+" > .background-repeat").toggle(),s.container.find(".background-wrapper > .background-container."+t+" > .background-position").toggle(),s.container.find(".background-wrapper > .background-container."+t+" > .background-size").toggle(),s.container.find(".background-wrapper > .background-container."+t+" > .background-attachment").toggle(),"down"===jQuery(this).attr("data-direction")?(jQuery(this).attr("data-direction","up"),jQuery(this).find(".message").html(astraCustomizerControlBackground.lessSettings),jQuery(this).find(".icon").html("↑")):(jQuery(this).attr("data-direction","down"),jQuery(this).find(".message").html(astraCustomizerControlBackground.moreSettings),jQuery(this).find(".icon").html("↓"))})},astResponsiveInit:function(){"use strict";this.container.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")})},saveValue:function(e,t,n){var a=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .responsive-background-hidden-value"),r=this.setting._value;r[e][t]=n,jQuery(a).attr("value",JSON.stringify(r)).trigger("change"),this.setting.set(r)}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-background .background-container, .customize-control .ast-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-background .background-container."+e+", .customize-control .ast-responsive-btns > li."+e).addClass("active")}),function(l){jQuery(document).ready(function(){var o=0,i=jQuery(".wp-full-overlay-sidebar-content"),s=navigator.userAgent.toLowerCase();if(-1<s.indexOf("firefox"))c=16;else var c=6;jQuery("#customize-controls .wp-full-overlay-sidebar-content .control-section").on("scroll",function(e){var t=jQuery(this);if(t.hasClass("open")){var n=t.find(".customize-section-title"),a=t.scrollTop();if(o<a)n.removeClass("maybe-sticky").removeClass("is-in-view").removeClass("is-sticky"),t.css("padding-top","");else{var r=t.outerWidth();n.addClass("maybe-sticky").addClass("is-in-view").addClass("is-sticky").width(r-c).css("top",i.css("top")),-1<s.indexOf("firefox")||t.css("padding-top",n.height()),0===a&&(n.removeClass("maybe-sticky").removeClass("is-in-view").removeClass("is-sticky"),t.css("padding-top",""))}o=a}})}),wp.customize.controlConstructor["ast-settings-group"]=wp.customize.Control.extend({ready:function(){"use strict";this.setting._value;this.registerToggleEvents(),this.container.on("ast_settings_changed",this.onOptionChange)},registerToggleEvents:function(){var c=this;l(".wp-full-overlay-sidebar-content, .wp-picker-container").click(function(e){l(e.target).closest(".ast-field-settings-modal").length||l(".ast-adv-toggle-icon.open").trigger("click")}),c.container.on("click",".ast-toggle-desc-wrap .ast-adv-toggle-icon",function(e){e.preventDefault(),e.stopPropagation();var t=jQuery(this),n=t.closest(".customize-control-ast-settings-group"),a=n.find(".ast-field-settings-modal").data("loaded"),r=n.parents(".control-section");if(t.hasClass("open"))n.find(".ast-field-settings-modal").hide();else{var o=r.find(".ast-adv-toggle-icon.open");if(0<o.length&&o.trigger("click"),a)n.find(".ast-field-settings-modal").show();else{var i=c.params.ast_fields,s=l(astra.customizer.group_modal_tmpl);n.find(".ast-field-settings-wrap").append(s),n.find(".ast-fields-wrap").attr("data-control",c.params.name),c.ast_render_field(n,i,c),n.find(".ast-field-settings-modal").show(),device=jQuery("#customize-footer-actions .active").attr("data-device"),"mobile"==device?(jQuery(".ast-responsive-btns .mobile, .ast-responsive-slider-btns .mobile").addClass("active"),jQuery(".ast-responsive-btns .preview-mobile, .ast-responsive-slider-btns .preview-mobile").addClass("active")):"tablet"==device?(jQuery(".ast-responsive-btns .tablet, .ast-responsive-slider-btns .tablet").addClass("active"),jQuery(".ast-responsive-btns .preview-tablet, .ast-responsive-slider-btns .preview-tablet").addClass("active")):(jQuery(".ast-responsive-btns .desktop, .ast-responsive-slider-btns .desktop").addClass("active"),jQuery(".ast-responsive-btns .preview-desktop, .ast-responsive-slider-btns .preview-desktop").addClass("active"))}}t.toggleClass("open")}),c.container.on("click",".ast-toggle-desc-wrap > .customizer-text",function(e){e.preventDefault(),e.stopPropagation(),jQuery(this).find(".ast-adv-toggle-icon").trigger("click")})},ast_render_field:function(e,t,a){var i=this,r=e.find(".ast-fields-wrap"),o="",s=[],c=i.isJsonString(a.params.value)?JSON.parse(a.params.value):{};if(void 0!==t.tabs){var n=(n=a.params.name.replace("[","-")).replace("]","");o+='<div id="'+n+'-tabs" class="ast-group-tabs">',o+='<ul class="ast-group-list">';var d=0;_.each(t.tabs,function(e,t){var n="";0==d&&(n="active"),o+='<li class="'+n+'"><a href="#tab-'+t+'"><span>'+t+"</span></a></li>",d++}),o+="</ul>",o+='<div class="ast-tab-content" >',_.each(t.tabs,function(e,t){o+='<div id="tab-'+t+'" class="tab">';var n=i.generateFieldHtml(e,c);o+=n.html,_.each(n.controls,function(e,t){s.push({key:e.key,value:e.value,name:e.name})}),o+="</div>"}),o+="</div></div>",r.html(o),l("#"+n+"-tabs").tabs()}else{var u=i.generateFieldHtml(t,c);o+=u.html,_.each(u.controls,function(e,t){s.push({key:e.key,value:e.value,name:e.name})}),r.html(o)}_.each(s,function(e,t){switch(e.key){case"ast-responsive-color":i.initResponsiveColor(r,a,e.name);break;case"ast-color":i.initColor(r,a,e.name);break;case"ast-font":var n=astra.customizer.settings.google_fonts;i.container.find(".ast-font-family").html(n),i.container.find(".ast-font-family").each(function(){var e=l(this).data("value");l(this).val(e);var t=l(this).data("name");l("select[data-name='"+t+"'] option[value='inherit']").text(l(this).data("inherit"));var n=jQuery(".ast-font-weight[data-connected-control='"+t+"']"),a=AstTypography._getWeightObject(AstTypography._cleanGoogleFonts(e));i.generateDropdownHtml(a,n),n.val(n.data("value"))}),i.container.find(".ast-font-family").selectWoo(),i.container.find(".ast-font-family").on("select2:select",function(){var e=l(this).val(),t=AstTypography._getWeightObject(AstTypography._cleanGoogleFonts(e)),n=l(this).data("name"),a=jQuery(".ast-font-weight[data-connected-control='"+n+"']");i.generateDropdownHtml(t,a);var r=l(this).parents(".customize-control").attr("id");r=r.replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,jQuery(this),e,r]);var o=a.parents(".customize-control").attr("id");o=o.replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,a,a.val(),o])}),i.container.find(".ast-font-weight").on("change",function(){var e=l(this).val();name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,jQuery(this),e,name])});break;case"ast-responsive":i.initResponsiveTrigger(r,a),i.container.on("change keyup paste","input.ast-responsive-input, select.ast-responsive-select",function(){name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),i.updateResonsiveValue(jQuery(this),name)});break;case"ast-select":i.container.on("change",".ast-select-input",function(){var e=jQuery(this).val();name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,jQuery(this),e,name])});break;case"ast-slider":i.container.on("input change","input[type=range]",function(){var e=jQuery(this).attr("value"),t=jQuery(this).closest(".wrapper").find(".astra_range_value .value");t.val(e),name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,t,e,name])}),i.container.on("click",".ast-slider-reset",function(){var e=jQuery(this).closest(".wrapper"),t=e.find("input[type=range]"),n=e.find(".astra_range_value .value"),a=t.data("reset_value");t.val(a),n.val(a),name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,n,a,name])}),i.container.find(".customize-control-ast-slider").on("input change","input[type=number]",function(){var e=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(e),name=l(this).parents(".customize-control").attr("id"),name=name.replace("customize-control-",""),i.container.trigger("ast_settings_changed",[i,jQuery(this),e,name])});break;case"ast-responsive-background":i.initAstResonsiveBgControl(a,e,e.name);break;case"ast-background":i.initAstBgControl(a,e,e.name);break;case"ast-border":i.initAstBorderControl(a,e,e.name)}}),e.find(".ast-field-settings-modal").data("loaded",!0)},initAstBorderControl:function(e,t,n){var a=this;a.setting._value,t.name;this.container.on("change keyup paste","input.ast-border-input",function(){a.saveBorderValue("border",jQuery(this).val(),jQuery(this),n)}),jQuery(".ast-border-connected").on("click",function(){jQuery(this).parent().parent(".ast-border-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".ast-border-input-item-link").removeClass("disconnected")}),jQuery(".ast-border-disconnected").on("click",function(){var e=jQuery(this).data("element-connect");jQuery(this).parent().parent(".ast-border-wrapper").find("input").addClass("connected").attr("data-element-connect",e),jQuery(this).parent(".ast-border-input-item-link").addClass("disconnected")}),jQuery(".ast-border-input-item").on("input",".connected",function(){var e=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".ast-border-wrapper").find('.connected[ data-element-connect="'+e+'" ]').each(function(e,t){jQuery(this).val(n).change()})})},generateFieldHtml:function(e,t){var u="",l=[];_.each(e,function(e,t){new_value=wp.customize.control("astra-settings["+e.name+"]")?wp.customize.control("astra-settings["+e.name+"]").params.value:"";var n=e.control,a="customize-control-"+n+"-content",r=wp.template(a),o=new_value||e.default;e.value=o;var i="",s="";if(e.label=e.title,_.each(e.data_attrs,function(e,t){i+=" data-"+t+" ='"+e+"'"}),_.each(e.input_attrs,function(e,t){s+=t+" ='"+e+"'"}),e.dataAttrs=i,e.inputAttrs=s,l.push({key:n,value:o,name:e.name}),"ast-responsive"==n){var c=void 0===e.responsive||e.responsive;e.responsive=c}var d=e.name.replace("[","-");d=d.replace("]",""),u+="<li id='customize-control-"+d+"' class='customize-control customize-control-"+e.control+"' >",u+=r(e),u+="</li>"});var n=new Object;return n.controls=l,n.html=u,n},generateDropdownHtml:function(e,t){var n=t.data("inherit"),a="",r=0,o=(e=l.merge(["inherit"],e),t.val()||"400");for(astraTypo.inherit=n;r<e.length;r++)0===r&&-1===l.inArray(o,e)?(o=e[0],selected=' selected="selected"'):selected=e[r]==o?' selected="selected"':"",e[r].includes("italic")||(a+='<option value="'+e[r]+'"'+selected+">"+astraTypo[e[r]]+"</option>");t.html(a)},initResponsiveTrigger:function(e,t){e.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")})},initColor:function(e,t,a){var r=this;e.find(".customize-control-ast-color .ast-color-picker-alpha").wpColorPicker({change:function(e,t){if(void 0!==e.originalEvent||void 0!==t.color._alpha){var n=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];jQuery(n).val(t.color.toString()),a=(a=jQuery(n).parents(".customize-control").attr("id")).replace("customize-control-",""),r.container.trigger("ast_settings_changed",[r,jQuery(n),t.color.toString(),a])}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];jQuery(t).val(""),a=(a=jQuery(t).parents(".customize-control").attr("id")).replace("customize-control-",""),r.container.trigger("ast_settings_changed",[r,jQuery(t),"",a]),wp.customize.previewer.refresh()}})},initResponsiveColor:function(e,t,s){var c=this;e.find(".ast-responsive-color").wpColorPicker({change:function(e,t){if((void 0!==e.originalEvent||void 0!==t.color._alpha)&&jQuery("html").hasClass("responsive-background-color-ready")){var n=jQuery(this).data("name"),a={desktop:jQuery(".desktop.ast-responsive-color[data-name='"+n+"']").val(),tablet:jQuery(".tablet.ast-responsive-color[data-name='"+n+"']").val(),mobile:jQuery(".mobile.ast-responsive-color[data-name='"+n+"']").val()},r=e.target,o=jQuery(this).data("id"),i={desktop:a.desktop,tablet:a.tablet,mobile:a.mobile};"desktop"===o&&(i.desktop=t.color.toString()),"tablet"===o&&(i.tablet=t.color.toString()),"mobile"===o&&(i.mobile=t.color.toString()),jQuery(r).val(t.color.toString()),s=(s=jQuery(r).parents(".customize-control").attr("id")).replace("customize-control-",""),c.container.trigger("ast_settings_changed",[c,jQuery(this),i,s])}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id"),a=jQuery(t).attr("data-name"),r={desktop:jQuery(".desktop.ast-responsive-color[data-name='"+a+"']").val(),tablet:jQuery(".tablet.ast-responsive-color[data-name='"+a+"']").val(),mobile:jQuery(".mobile.ast-responsive-color[data-name='"+a+"']").val()},o={desktop:r.desktop,tablet:r.tablet,mobile:r.mobile};wp.customize.previewer.refresh(),t&&("desktop"===n&&(o.desktop=""),"tablet"===n&&(o.tablet=""),"mobile"===n&&(o.mobile=""),jQuery(t).val(""),c.container.trigger("ast_settings_changed",[c,jQuery(t),o,s])),s=(s=jQuery(t).parents(".customize-control").attr("id")).replace("customize-control-","")}}),e.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")}),e.find(".ast-responsive-color.desktop").parents(".wp-picker-container").addClass("active")},onOptionChange:function(e,t,n,a,r){l(".hidden-field-astra-settings-"+r).val(a),sub_control=wp.customize.control("astra-settings["+r+"]"),sub_control.setting.set(a)},updateResonsiveValue:function(e,t){"use strict";var n=this,a={};n.responsiveContainer=e.closest(".ast-responsive-wrapper"),n.responsiveContainer.find("input.ast-responsive-input").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),n.responsiveContainer.find("select.ast-responsive-select").each(function(){var e=jQuery(this),t=e.data("id"),n=e.val();a[t]=n}),n.container.trigger("ast_settings_changed",[n,e,a,t])},isJsonString:function(e){try{JSON.parse(e)}catch(e){return!1}return!0},initAstResonsiveBgControl:function(c,e,d){var t=e.value,n=c.container.find(".ast-responsive-bg-color-control"),a=e.name,u=c.container.find("#customize-control-"+a);!_.isUndefined(t.desktop["background-image"])&&""!==t.desktop["background-image"]||(u.find(".background-wrapper > .background-container.desktop > .background-repeat").hide(),u.find(".background-wrapper > .background-container.desktop > .background-position").hide(),u.find(".background-wrapper > .background-container.desktop > .background-size").hide(),u.find(".background-wrapper > .background-container.desktop > .background-attachment").hide()),!_.isUndefined(t.tablet["background-image"])&&""!==t.tablet["background-image"]||(u.find(".background-wrapper > .background-container.tablet > .background-repeat").hide(),u.find(".background-wrapper > .background-container.tablet > .background-position").hide(),u.find(".background-wrapper > .background-container.tablet > .background-size").hide(),u.find(".background-wrapper > .background-container.tablet > .background-attachment").hide()),!_.isUndefined(t.mobile["background-image"])&&""!==t.mobile["background-image"]||(u.find(".background-wrapper > .background-container.mobile > .background-repeat").hide(),u.find(".background-wrapper > .background-container.mobile > .background-position").hide(),u.find(".background-wrapper > .background-container.mobile > .background-size").hide(),u.find(".background-wrapper > .background-container.mobile > .background-attachment").hide()),n.wpColorPicker({change:function(e,t){if(void 0!==e.originalEvent||void 0!==t.color._alpha){var n=jQuery(this).data("id");c.saveValue(n,"background-color",t.color.toString(),jQuery(this),d)}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id");t&&c.saveValue(n,"background-color","",jQuery(t),d),wp.customize.previewer.refresh()}}),u.on("change",".background-repeat select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();c.saveValue(t,"background-repeat",n,jQuery(this),d)}),u.on("change click",".background-size input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),c.saveValue(t,"background-size",n,e,d)}),u.on("change",".background-position select",function(){var e=jQuery(this),t=e.data("id"),n=e.val();c.saveValue(t,"background-position",n,e,d)}),u.on("change click",".background-attachment input",function(){var e=jQuery(this),t=e.data("id"),n=e.val();jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),c.saveValue(t,"background-attachment",n,e,d)}),u.on("click",".background-image-upload-button, .thumbnail-image img",function(e){var o=jQuery(this),i=o.data("id");d=o.data("name");var s=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=s.state().get("selection").first(),r=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(r=a.toJSON().sizes.thumbnail.url):r=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&u.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),c.saveValue(i,"background-image",e,o,d),t=u.find(".background-container."+i+" .placeholder, .background-container."+i+" .thumbnail"),n=u.find(".background-container."+i+" .background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" data-id="'+i+'" data-name="'+d+'"/>'),n.length&&n.show()});e.preventDefault()}),u.on("click",".background-image-upload-remove-button",function(e){var t,n,a=jQuery(this).data("id");c.saveValue(a,"background-image","",jQuery(this),d),t=u.find(".background-container."+a+" .placeholder, .background-container."+a+" .thumbnail"),n=u.find(".background-container."+a+" .background-image-upload-remove-button"),u.find(".background-wrapper > .background-container."+a+" > .background-repeat").hide(),u.find(".background-wrapper > .background-container."+a+" > .background-position").hide(),u.find(".background-wrapper > .background-container."+a+" > .background-size").hide(),u.find(".background-wrapper > .background-container."+a+" > .background-attachment").hide(),u.find(".background-container."+a+" .more-settings").attr("data-direction","down"),u.find(".background-container."+a+" .more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),u.find(".background-container."+a+" .more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide(),wp.customize.previewer.refresh(),e.preventDefault()}),u.on("click",".more-settings",function(e){var t=jQuery(this).data("id");u.find(".background-wrapper > .background-container."+t+" > .background-repeat").toggle(),u.find(".background-wrapper > .background-container."+t+" > .background-position").toggle(),u.find(".background-wrapper > .background-container."+t+" > .background-size").toggle(),u.find(".background-wrapper > .background-container."+t+" > .background-attachment").toggle(),"down"===l(this).attr("data-direction")?(l(this).attr("data-direction","up"),l(this).find(".message").html(astraCustomizerControlBackground.lessSettings),l(this).find(".icon").html("↑")):(l(this).attr("data-direction","down"),l(this).find(".message").html(astraCustomizerControlBackground.moreSettings),l(this).find(".icon").html("↓"))}),u.find(".ast-responsive-btns button").on("click",function(e){var t=jQuery(this).attr("data-device");t="desktop"==t?"tablet":"tablet"==t?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+t+'"]').trigger("click")}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var e=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-background .background-container, .customize-control .ast-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-background .background-container."+e+", .customize-control .ast-responsive-btns > li."+e).addClass("active")})},initAstBgControl:function(s,e,c){var t=s.setting._value,n=e.name,a=s.container.find(".ast-color-control"),d=s.container.find("#customize-control-"+n);!_.isUndefined(t["background-image"])&&""!==t["background-image"]||(d.find(".background-wrapper > .background-repeat").hide(),d.find(".background-wrapper > .background-position").hide(),d.find(".background-wrapper > .background-size").hide(),d.find(".background-wrapper > .background-attachment").hide()),a.wpColorPicker({change:function(){if(jQuery("html").hasClass("background-colorpicker-ready")){var e=jQuery(this);setTimeout(function(){s.saveBgValue("background-color",a.val(),e,c)},100)}},clear:function(e){var t=jQuery(e.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0];t&&s.saveBgValue("background-color","",jQuery(t),c),wp.customize.previewer.refresh()}}),d.on("change",".background-repeat select",function(){s.saveBgValue("background-repeat",jQuery(this).val(),jQuery(this),c)}),d.on("change click",".background-size input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),s.saveBgValue("background-size",jQuery(this).val(),jQuery(this),c)}),d.on("change",".background-position select",function(){s.saveBgValue("background-position",jQuery(this).val(),jQuery(this),c)}),d.on("change click",".background-attachment input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),s.saveBgValue("background-attachment",jQuery(this).val(),jQuery(this),c)}),d.on("click",".background-image-upload-button, .thumbnail-image img",function(e){var o=jQuery(this),i=wp.media({multiple:!1}).open().on("select",function(){var e,t,n,a=i.state().get("selection").first(),r=a.toJSON().sizes.full.url;_.isUndefined(a.toJSON().sizes.medium)?_.isUndefined(a.toJSON().sizes.thumbnail)||(r=a.toJSON().sizes.thumbnail.url):r=a.toJSON().sizes.medium.url,e=a.toJSON().sizes.full.url,a.toJSON().id,a.toJSON().width,a.toJSON().height,""!==e&&d.find(".background-wrapper > .background-repeat, .background-wrapper > .background-position, .background-wrapper > .background-size, .background-wrapper > .background-attachment").show(),s.saveBgValue("background-image",e,o,c),t=d.find(".placeholder, .thumbnail"),n=d.find(".background-image-upload-remove-button"),t.length&&t.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+r+'" alt="" />'),n.length&&n.show()});e.preventDefault()}),d.on("click",".background-image-upload-remove-button",function(e){var t,n;e.preventDefault(),s.saveBgValue("background-image","",jQuery(this)),t=d.find(".placeholder, .thumbnail"),n=d.find(".background-image-upload-remove-button"),d.find(".background-wrapper > .background-repeat").hide(),d.find(".background-wrapper > .background-position").hide(),d.find(".background-wrapper > .background-size").hide(),d.find(".background-wrapper > .background-attachment").hide(),d.find(".more-settings").attr("data-direction","down"),d.find(".more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),d.find(".more-settings").find(".icon").html("↓"),t.length&&t.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide()}),d.on("click",".more-settings",function(e){d.find(".background-wrapper > .background-repeat").toggle(),d.find(".background-wrapper > .background-position").toggle(),d.find(".background-wrapper > .background-size").toggle(),d.find(".background-wrapper > .background-attachment").toggle(),"down"===l(this).attr("data-direction")?(l(this).attr("data-direction","up"),l(this).find(".message").html(astraCustomizerControlBackground.lessSettings),l(this).find(".icon").html("↑")):(l(this).attr("data-direction","down"),l(this).find(".message").html(astraCustomizerControlBackground.moreSettings),l(this).find(".icon").html("↓"))})},saveValue:function(e,t,n,a,r){var o=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .responsive-background-hidden-value"),i=JSON.parse(o.val());i[e][t]=n,jQuery(o).attr("value",JSON.stringify(i)).trigger("change"),r=(r=jQuery(a).parents(".customize-control").attr("id")).replace("customize-control-",""),this.container.trigger("ast_settings_changed",[this,a,i,r])},saveBgValue:function(e,t,n,a){var r=jQuery("#customize-control-"+this.id.replace("[","-").replace("]","")+" .background-hidden-value"),o=JSON.parse(r.val());o[e]=t,jQuery(r).attr("value",JSON.stringify(o)).trigger("change"),a=(a=jQuery(n).parents(".customize-control").attr("id")).replace("customize-control-",""),this.container.trigger("ast_settings_changed",[this,n,o,a])},saveBorderValue:function(e,t,n,a){var r={top:"",right:"",bottom:"",left:""};this.container.find("input.ast-border-desktop").each(function(){var e=jQuery(this),t=e.data("id");item_value=e.val(),r[t]=item_value,e.attr("value",item_value)}),this.container.trigger("ast_settings_changed",[this,n,r,a])}})}(jQuery),jQuery,wp.customize.controlConstructor["ast-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.sortableContainer=e.container.find("ul.sortable").first(),e.sortableContainer.sortable({stop:function(){e.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){e.updateValue()})},updateValue:function(){"use strict";var e=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||e.push(jQuery(this).data("value"))}),this.setting.set(e)}}),function(g){var b=wp.customize;AstTypography={init:function(){AstTypography._initFonts()},_initFonts:function(){g(".customize-control-ast-font-family select").each(function(e){if(void 0!==astra.customizer){var t=astra.customizer.settings.google_fonts,n=g(this).data("name");g(this).html(t),g("select[data-name='"+n+"'] option[value='inherit']").text(g(this).data("inherit"));var a=g(this).data("value");g(this).val(a)}}),g(".customize-control-ast-font-family select").each(AstTypography._initFont),g(".customize-control-ast-font-family select, .customize-control-ast-font-variant select").selectWoo(),g(".customize-control-ast-font-variant select").on("select2:unselecting",function(e){var t=g(this).data("customize-setting-link");(e.params.args.data.id||"")&&(g(this).find('option[value="'+e.params.args.data.id+'"]').removeAttr("selected"),null===g(this).val()&&b(t).set(""))})},_initFont:function(){var e=g(this),t=e.data("customize-setting-link"),n=e.data("connected-control"),a=e.data("connected-variant");void 0!==n&&(b(t).bind(AstTypography._fontSelectChange),AstTypography._setFontWeightOptions.apply(b(t),[!0])),void 0!==a&&(b(t).bind(AstTypography._fontSelectChange),AstTypography._setFontVarianttOptions.apply(b(t),[!0]))},_fontSelectChange:function(){var e=b.control(this.id).container.find("select").data("connected-variant");AstTypography._setFontWeightOptions.apply(this,[!1]),void 0!==e&&AstTypography._setFontVarianttOptions.apply(this,[!1])},_cleanGoogleFonts:function(e){if(!e.includes(","))return e;var t=e.split(","),n=new RegExp("'","gi"),a=t[0].replace(n,"");return void 0!==AstFontFamilies.google[a]&&(e=a),e},_getWeightObject:function(e){var t=["400","600"];return"inherit"==e?t=["100","200","300","400","500","600","700","800","900"]:void 0!==AstFontFamilies.system[e]?t=AstFontFamilies.system[e].weights:void 0!==AstFontFamilies.google[e]?(t=AstFontFamilies.google[e][0],t=Object.keys(t).map(function(e){return t[e]})):void 0!==AstFontFamilies.custom[e]&&(t=AstFontFamilies.custom[e].weights),t},_setFontWeightOptions:function(e){var t=0,n=b.control(this.id).container.find("select"),a=this(),r="",o=n.data("connected-control"),i=(n.data("inherit"),b.control(o).container.find("select")),s=i.data("inherit"),c=e?i.val():"400",d=["400","600"],u="",l=astraTypo;"inherit"==a&&(c=e?i.val():"inherit");a=AstTypography._cleanGoogleFonts(a),d=AstTypography._getWeightObject(a);for(d=g.merge(["inherit"],d),l.inherit=s;t<d.length;t++)r=0===t&&-1===g.inArray(c,d)?(c=d[0],' selected="selected"'):d[t]==c?' selected="selected"':"",d[t].includes("italic")||(u+='<option value="'+d[t]+'"'+r+">"+l[d[t]]+"</option>");i.html(u),e||(b(o).set(""),b(o).set(c))},_setFontVarianttOptions:function(e){var t=0,n=b.control(this.id).container.find("select"),a=this(),r="",o=n.data("connected-variant"),i=(n.data("inherit"),b.control(o).container.find("select")),s=b.control(o).container.find(".ast-font-variant-hidden-value"),c="",d="",u=i.data("inherit"),l=astraTypo,g=s.val().split(",");"Google"==(n.find('option[value="'+n.val()+'"]').closest("optgroup").attr("label")||"")?i.parent().removeClass("ast-hide"):i.parent().addClass("ast-hide");a=AstTypography._cleanGoogleFonts(a);var p=AstTypography._getWeightObject(a);l.inherit=u;for(t=0;t<p.length;t++){for(var h=0;h<g.length;h++)r=p[t]===g[h]?(c=p[t],' selected="selected"'):p[t]==c?' selected="selected"':"";d+='<option value="'+p[t]+'"'+r+">"+l[p[t]]+"</option>"}i.html(d),e||b(o).set("")}},g(function(){AstTypography.init()})}(jQuery);