!function(d){var y=wp.customize;AstTypography={init:function(){AstTypography._initFonts()},_initFonts:function(){d(".customize-control-ast-font-family select").each(function(t){if(void 0!==astra.customizer){var e=astra.customizer.settings.google_fonts,n=d(this).data("name");d(this).html(e),d("select[data-name='"+n+"'] option[value='inherit']").text(d(this).data("inherit"));var i=d(this).data("value");d(this).val(i)}}),d(".customize-control-ast-font-family select").each(AstTypography._initFont),d(".customize-control-ast-font-family select, .customize-control-ast-font-variant select").selectWoo(),d(".customize-control-ast-font-variant select").on("select2:unselecting",function(t){var e=d(this).data("customize-setting-link");(t.params.args.data.id||"")&&(d(this).find('option[value="'+t.params.args.data.id+'"]').removeAttr("selected"),null===d(this).val()&&y(e).set(""))})},_initFont:function(){var t=d(this),e=t.data("customize-setting-link"),n=t.data("connected-control"),i=t.data("connected-variant");void 0!==n&&(y(e).bind(AstTypography._fontSelectChange),AstTypography._setFontWeightOptions.apply(y(e),[!0])),void 0!==i&&(y(e).bind(AstTypography._fontSelectChange),AstTypography._setFontVarianttOptions.apply(y(e),[!0]))},_fontSelectChange:function(){var t=y.control(this.id).container.find("select").data("connected-variant");AstTypography._setFontWeightOptions.apply(this,[!1]),void 0!==t&&AstTypography._setFontVarianttOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==AstFontFamilies.google[i]&&(t=i),t},_getWeightObject:function(t){var e=["400","600"];return"inherit"==t?e=["100","200","300","400","500","600","700","800","900"]:void 0!==AstFontFamilies.system[t]?e=AstFontFamilies.system[t].weights:void 0!==AstFontFamilies.google[t]?(e=AstFontFamilies.google[t][0],e=Object.keys(e).map(function(t){return e[t]})):void 0!==AstFontFamilies.custom[t]&&(e=AstFontFamilies.custom[t].weights),e},_setFontWeightOptions:function(t){var e=0,n=y.control(this.id).container.find("select"),i=this(),o="",a=n.data("connected-control"),s=(n.data("inherit"),y.control(a).container.find("select")),r=s.data("inherit"),l=t?s.val():"400",c=["400","600"],h="",p=astraTypo;"inherit"==i&&(l=t?s.val():"inherit");i=AstTypography._cleanGoogleFonts(i),c=AstTypography._getWeightObject(i);for(c=d.merge(["inherit"],c),p.inherit=r;e<c.length;e++)o=0===e&&-1===d.inArray(l,c)?(l=c[0],' selected="selected"'):c[e]==l?' selected="selected"':"",c[e].includes("italic")||(h+='<option value="'+c[e]+'"'+o+">"+p[c[e]]+"</option>");s.html(h),t||(y(a).set(""),y(a).set(l))},_setFontVarianttOptions:function(t){var e=0,n=y.control(this.id).container.find("select"),i=this(),o="",a=n.data("connected-variant"),s=(n.data("inherit"),y.control(a).container.find("select")),r=y.control(a).container.find(".ast-font-variant-hidden-value"),l="",c="",h=s.data("inherit"),p=astraTypo,d=r.val().split(",");"Google"==(n.find('option[value="'+n.val()+'"]').closest("optgroup").attr("label")||"")?s.parent().removeClass("ast-hide"):s.parent().addClass("ast-hide");i=AstTypography._cleanGoogleFonts(i);var g=AstTypography._getWeightObject(i);p.inherit=h;for(e=0;e<g.length;e++){for(var u=0;u<d.length;u++)o=g[e]===d[u]?(l=g[e],' selected="selected"'):g[e]==l?' selected="selected"':"";c+='<option value="'+g[e]+'"'+o+">"+p[g[e]]+"</option>"}s.html(c),t||y(a).set("")}},d(function(){AstTypography.init()})}(jQuery);