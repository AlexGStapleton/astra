!function(n){jQuery(window).on("load",function(){jQuery("html").addClass("background-colorpicker-ready")}),wp.customize.controlConstructor["ast-background"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl()},initAstBgControl:function(){var r=this,t=r.setting._value,e=r.container.find(".ast-color-control");r.container.find(".background-wrapper > .background-repeat").hide(),r.container.find(".background-wrapper > .background-position").hide(),r.container.find(".background-wrapper > .background-size").hide(),r.container.find(".background-wrapper > .background-attachment").hide(),!_.isUndefined(t["background-image"])&&""!==t["background-image"]||r.container.find(".more-settings").hide(),e.wpColorPicker({change:function(){jQuery("html").hasClass("background-colorpicker-ready")&&setTimeout(function(){r.saveValue("background-color",e.val())},100)},clear:function(t){jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0]&&r.saveValue("background-color","")}}),r.container.on("change",".background-repeat select",function(){r.saveValue("background-repeat",jQuery(this).val())}),r.container.on("change click",".background-size input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),r.saveValue("background-size",jQuery(this).val())}),r.container.on("change",".background-position select",function(){r.saveValue("background-position",jQuery(this).val())}),r.container.on("change click",".background-attachment input",function(){jQuery(this).parent(".buttonset").find(".switch-input").removeAttr("checked"),jQuery(this).attr("checked","checked"),r.saveValue("background-attachment",jQuery(this).val())}),r.container.on("click",".background-image-upload-button, .thumbnail-image img",function(t){var o=wp.media({multiple:!1}).open().on("select",function(){var t,e,n,i=o.state().get("selection").first(),a=i.toJSON().sizes.full.url;_.isUndefined(i.toJSON().sizes.medium)?_.isUndefined(i.toJSON().sizes.thumbnail)||(a=i.toJSON().sizes.thumbnail.url):a=i.toJSON().sizes.medium.url,t=i.toJSON().sizes.full.url,i.toJSON().id,i.toJSON().width,i.toJSON().height,""!==t&&r.container.find(".more-settings").show(),r.saveValue("background-image",t),e=r.container.find(".placeholder, .thumbnail"),n=r.container.find(".background-image-upload-remove-button"),e.length&&e.removeClass().addClass("thumbnail thumbnail-image").html('<img src="'+a+'" alt="" />'),n.length&&n.show()});t.preventDefault()}),r.container.on("click",".background-image-upload-remove-button",function(t){var e,n;t.preventDefault(),r.saveValue("background-image",""),e=r.container.find(".placeholder, .thumbnail"),n=r.container.find(".background-image-upload-remove-button"),r.container.find(".background-wrapper > .background-repeat").hide(),r.container.find(".background-wrapper > .background-position").hide(),r.container.find(".background-wrapper > .background-size").hide(),r.container.find(".background-wrapper > .background-attachment").hide(),r.container.find(".more-settings").attr("data-direction","down"),r.container.find(".more-settings").find(".message").html(astraCustomizerControlBackground.moreSettings),r.container.find(".more-settings").find(".icon").html("↓"),e.length&&e.removeClass().addClass("placeholder").html(astraCustomizerControlBackground.placeholder),n.length&&n.hide()}),r.container.on("click",".more-settings",function(t){r.container.find(".background-wrapper > .background-repeat").toggle(),r.container.find(".background-wrapper > .background-position").toggle(),r.container.find(".background-wrapper > .background-size").toggle(),r.container.find(".background-wrapper > .background-attachment").toggle(),"down"===n(this).attr("data-direction")?(n(this).attr("data-direction","up"),n(this).find(".message").html(astraCustomizerControlBackground.lessSettings),n(this).find(".icon").html("↑")):(n(this).attr("data-direction","down"),n(this).find(".message").html(astraCustomizerControlBackground.moreSettings),n(this).find(".icon").html("↓"))})},saveValue:function(t,e){var n=this,i=jQuery("#customize-control-"+n.id.replace("[","-").replace("]","")+" .background-hidden-value"),a=n.setting._value;a[t]=e,jQuery(i).attr("value",JSON.stringify(a)).trigger("change"),n.setting.set(a)}})}(jQuery),jQuery,wp.customize.controlConstructor["ast-border"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change keyup paste","input.ast-border-input",function(){jQuery(this).val(),t.updateValue()})},updateValue:function(){"use strict";var i={top:"",right:"",bottom:"",left:""};this.container.find("input.ast-border-desktop").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),this.setting.set(i)}}),jQuery(document).ready(function(){jQuery(".ast-border-connected").on("click",function(){jQuery(this).parent().parent(".ast-border-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".ast-border-input-item-link").removeClass("disconnected")}),jQuery(".ast-border-disconnected").on("click",function(){var t=jQuery(this).data("element-connect");jQuery(this).parent().parent(".ast-border-wrapper").find("input").addClass("connected").attr("data-element-connect",t),jQuery(this).parent(".ast-border-input-item-link").addClass("disconnected")}),jQuery(".ast-border-input-item").on("input",".connected",function(){var t=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".ast-border-wrapper").find('.connected[ data-element-connect="'+t+'" ]').each(function(t,e){jQuery(this).val(n).change()})})}),jQuery,wp.customize.controlConstructor["ast-link"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this,n=jQuery(".customize-link-control-data").data("value");this.container.on("change keyup",".ast-link-input",function(t){t.preventDefault(),value=jQuery(this).val(),n.url=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),e.setting.set(n)}),this.container.on("change click",".ast-link-open-in-new-tab",function(){value=jQuery(this).is(":checked"),n.new_tab=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),e.setting.set(n)}),this.container.on("change keyup",".ast-link-relationship",function(t){t.preventDefault(),value=jQuery(this).val(),n.link_rel=value,jQuery(".customize-link-control-data").attr("data-value",JSON.stringify(n)).trigger("change"),e.setting.set(n)})}}),wp.customize.controlConstructor["ast-customizer-link"]=wp.customize.Control.extend({ready:function(){"use strict";this.container.on("click",".customizer-link",function(t){t.preventDefault();var e=this.getAttribute("data-customizer-linked");switch(this.getAttribute("data-ast-customizer-link-type")){case"section":wp.customize.section(e).expand();break;case"control":wp.customize.control(e).focus()}})}}),wp.customize.controlConstructor["ast-radio-image"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("click","input",function(){t.setting.set(jQuery(this).val())})}}),jQuery,wp.customize.controlConstructor["ast-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.astResponsiveInit(),this.container.on("change keyup paste","input.ast-responsive-input, select.ast-responsive-select",function(){jQuery(this).val(),t.updateValue()}),this.container.on("blur","input",function(){""==(jQuery(this).val()||"")&&wp.customize.previewer.refresh()}),jQuery(".customize-control-ast-responsive .input-wrapper input.desktop, .customize-control .ast-responsive-btns > li.desktop").addClass("active")},updateValue:function(){"use strict";var t=this,i={};t.responsiveContainer=t.container.find(".ast-responsive-wrapper").first(),t.responsiveContainer.find("input.ast-responsive-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.responsiveContainer.find("select.ast-responsive-select").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),t.setting.set(i)},astResponsiveInit:function(){"use strict";this.container.find(".ast-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive .input-wrapper input, .customize-control .ast-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive .input-wrapper input."+t+", .customize-control .ast-responsive-btns > li."+t).addClass("active")}),jQuery,jQuery(window).on("load",function(){jQuery("html").addClass("responsive-background-color-ready")}),wp.customize.controlConstructor["ast-responsive-color"]=wp.customize.Control.extend({ready:function(){"use strict";this.initAstBgControl()},initAstBgControl:function(){var o=this;o.setting._value,o.container.find(".ast-responsive-color").wpColorPicker({change:function(t,e){if(jQuery("html").hasClass("responsive-background-color-ready")){var n=o.setting.get(),i=jQuery(this).data("id"),a={desktop:n.desktop,tablet:n.tablet,mobile:n.mobile};"desktop"===i&&(a.desktop=e.color.toString()),"tablet"===i&&(a.tablet=e.color.toString()),"mobile"===i&&(a.mobile=e.color.toString()),o.setting.set(a)}},clear:function(t){var e=jQuery(t.target).closest(".wp-picker-input-wrap").find(".wp-color-picker")[0],n=jQuery(this).closest(".wp-picker-input-wrap").find(".wp-color-picker").data("id"),i=o.setting.get(),a={desktop:i.desktop,tablet:i.tablet,mobile:i.mobile};e&&("desktop"===n&&(a.desktop=""),"tablet"===n&&(a.tablet=""),"mobile"===n&&(a.mobile=""),o.setting.set(a))}}),this.container.find(".ast-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),jQuery(".customize-control-ast-responsive-color .customize-control-content .ast-responsive-color.desktop").parents(".wp-picker-container").addClass("active")}}),jQuery(".wp-full-overlay-footer .devices button").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-color .customize-control-content .wp-picker-container").removeClass("active"),jQuery(".customize-control-ast-responsive-color .customize-control-content .ast-responsive-color."+t).parents(".wp-picker-container").addClass("active")}),jQuery,wp.customize.controlConstructor["ast-responsive-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.astResponsiveInit(),this.container.on("input change","input[type=range]",function(){var t=jQuery(this).val(),e=jQuery(this).closest(".input-field-wrapper").find(".ast-responsive-range-value-input");e.val(t),e.trigger("change")}),this.container.on("click",".ast-responsive-slider-reset",function(){var t=jQuery(this).parent().find(".input-field-wrapper.active"),e=t.find("input[type=range]"),n=t.find(".ast-responsive-range-value-input"),i=e.data("reset_value");e.val(i),n.val(i),n.trigger("change")}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".input-field-wrapper").find("input[type=range]").val(t),e.updateValue()})},updateValue:function(){"use strict";var i={};this.responsiveContainer=this.container.find(".wrapper").first(),this.responsiveContainer.find(".ast-responsive-range-value-input").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i[e]=n}),this.setting.set(i)},astResponsiveInit:function(){this.container.on("click",".ast-responsive-slider-btns button",function(t){t.preventDefault();var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")})}}),jQuery(" .wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-slider .input-field-wrapper, .customize-control .ast-responsive-slider-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-slider .input-field-wrapper."+t+", .customize-control .ast-responsive-slider-btns > li."+t).addClass("active")}),jQuery,wp.customize.controlConstructor["ast-responsive-spacing"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.astResponsiveInit(),this.container.on("change keyup paste","input.ast-spacing-input",function(){jQuery(this).val(),t.updateValue()})},updateValue:function(){"use strict";var t=this,i={desktop:{},tablet:{},mobile:{},"desktop-unit":"px","tablet-unit":"px","mobile-unit":"px"};t.container.find("input.ast-spacing-desktop").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.desktop[e]=n}),t.container.find("input.ast-spacing-tablet").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.tablet[e]=n}),t.container.find("input.ast-spacing-mobile").each(function(){var t=jQuery(this),e=t.data("id"),n=t.val();i.mobile[e]=n}),t.container.find(".ast-spacing-unit-wrapper .ast-spacing-unit-input").each(function(){var t=jQuery(this),e=t.attr("data-device"),n=t.val();i[e+"-unit"]=n}),t.setting.set(i)},astResponsiveInit:function(){"use strict";var i=this;i.container.find(".ast-spacing-responsive-btns button").on("click",function(t){var e=jQuery(this).attr("data-device");e="desktop"==e?"tablet":"tablet"==e?"mobile":"desktop",jQuery('.wp-full-overlay-footer .devices button[data-device="'+e+'"]').trigger("click")}),i.container.on("click",".ast-spacing-responsive-units .single-unit",function(){var t=jQuery(this);if(t.hasClass("active"))return!1;var e=t.attr("data-unit"),n=jQuery(".wp-full-overlay-footer .devices button.active").attr("data-device");t.siblings().removeClass("active"),t.addClass("active"),i.container.find(".ast-spacing-unit-wrapper .ast-spacing-"+n+"-unit").val(e),i.updateValue()})}}),jQuery(document).ready(function(){jQuery(".ast-spacing-connected").on("click",function(){jQuery(this).parent().parent(".ast-spacing-wrapper").find("input").removeClass("connected").attr("data-element-connect",""),jQuery(this).parent(".ast-spacing-input-item-link").removeClass("disconnected")}),jQuery(".ast-spacing-disconnected").on("click",function(){var t=jQuery(this).data("element-connect");jQuery(this).parent().parent(".ast-spacing-wrapper").find("input").addClass("connected").attr("data-element-connect",t),jQuery(this).parent(".ast-spacing-input-item-link").addClass("disconnected")}),jQuery(".ast-spacing-input-item").on("input",".connected",function(){var t=jQuery(this).attr("data-element-connect"),n=jQuery(this).val();jQuery(this).parent().parent(".ast-spacing-wrapper").find('.connected[ data-element-connect="'+t+'" ]').each(function(t,e){jQuery(this).val(n).change()})})}),jQuery(".wp-full-overlay-footer .devices button ").on("click",function(){var t=jQuery(this).attr("data-device");jQuery(".customize-control-ast-responsive-spacing .input-wrapper .ast-spacing-wrapper, .customize-control .ast-spacing-responsive-btns > li").removeClass("active"),jQuery(".customize-control-ast-responsive-spacing .input-wrapper .ast-spacing-wrapper."+t+", .customize-control .ast-spacing-responsive-btns > li."+t).addClass("active")}),jQuery,wp.customize.controlConstructor["ast-slider"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;jQuery("input[type=range]").on("input change",function(){var t=jQuery(this).attr("value"),e=jQuery(this).closest(".wrapper").find(".astra_range_value .value");e.val(t),e.change()}),jQuery(".ast-slider-reset").click(function(){var t=jQuery(this).closest(".wrapper"),e=t.find("input[type=range]"),n=t.find(".astra_range_value .value"),i=e.data("reset_value");e.val(i),n.val(i),n.change()}),this.container.on("input change","input[type=number]",function(){var t=jQuery(this).val();jQuery(this).closest(".wrapper").find("input[type=range]").val(t),e.setting.set(t)})}}),jQuery,wp.customize.controlConstructor["ast-sortable"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;t.sortableContainer=t.container.find("ul.sortable").first(),t.sortableContainer.sortable({stop:function(){t.updateValue()}}).disableSelection().find("li").each(function(){jQuery(this).find("i.visibility").click(function(){jQuery(this).toggleClass("dashicons-visibility-faint").parents("li:eq(0)").toggleClass("invisible")})}).click(function(){t.updateValue()})},updateValue:function(){"use strict";var t=[];this.sortableContainer.find("li").each(function(){jQuery(this).is(".invisible")||t.push(jQuery(this).data("value"))}),this.setting.set(t)}}),function(p){var g=wp.customize;AstTypography={init:function(){AstTypography._initFonts()},_initFonts:function(){p(".customize-control-ast-font-family select").each(function(t){if(void 0!==astra.customizer){var e=astra.customizer.settings.google_fonts,n=p(this).data("name");p(this).html(e),p("select[data-name='"+n+"'] option[value='inherit']").text(p(this).data("inherit"));var i=p(this).data("value");p(this).val(i)}}),p(".customize-control-ast-font-family select").each(AstTypography._initFont),p(".customize-control-ast-font-family select, .customize-control-ast-font-variant select").selectWoo(),p(".customize-control-ast-font-variant select").on("select2:unselecting",function(t){var e=p(this).data("customize-setting-link");(t.params.args.data.id||"")&&(p(this).find('option[value="'+t.params.args.data.id+'"]').removeAttr("selected"),null===p(this).val()&&g(e).set(""))})},_initFont:function(){var t=p(this),e=t.data("customize-setting-link"),n=t.data("connected-control"),i=t.data("connected-variant");void 0!==n&&(g(e).bind(AstTypography._fontSelectChange),AstTypography._setFontWeightOptions.apply(g(e),[!0])),void 0!==i&&(g(e).bind(AstTypography._fontSelectChange),AstTypography._setFontVarianttOptions.apply(g(e),[!0]))},_fontSelectChange:function(){var t=g.control(this.id).container.find("select").data("connected-variant");AstTypography._setFontWeightOptions.apply(this,[!1]),void 0!==t&&AstTypography._setFontVarianttOptions.apply(this,[!1])},_cleanGoogleFonts:function(t){if(!t.includes(","))return t;var e=t.split(","),n=new RegExp("'","gi"),i=e[0].replace(n,"");return void 0!==AstFontFamilies.google[i]&&(t=i),t},_getWeightObject:function(t){var e=["400","600"];return"inherit"==t?e=["100","200","300","400","500","600","700","800","900"]:void 0!==AstFontFamilies.system[t]?e=AstFontFamilies.system[t].weights:void 0!==AstFontFamilies.google[t]?(e=AstFontFamilies.google[t][0],e=Object.keys(e).map(function(t){return e[t]})):void 0!==AstFontFamilies.custom[t]&&(e=AstFontFamilies.custom[t].weights),e},_setFontWeightOptions:function(t){var e=0,n=g.control(this.id).container.find("select"),i=this(),a="",o=n.data("connected-control"),r=(n.data("inherit"),g.control(o).container.find("select")),s=r.data("inherit"),c=t?r.val():"400",u=["400","600"],l="",d=astraTypo;"inherit"==i&&(c=t?r.val():"inherit");i=AstTypography._cleanGoogleFonts(i),u=AstTypography._getWeightObject(i);for(u=p.merge(["inherit"],u),d.inherit=s;e<u.length;e++)a=0===e&&-1===p.inArray(c,u)?(c=u[0],' selected="selected"'):u[e]==c?' selected="selected"':"",u[e].includes("italic")||(l+='<option value="'+u[e]+'"'+a+">"+d[u[e]]+"</option>");r.html(l),t||(g(o).set(""),g(o).set(c))},_setFontVarianttOptions:function(t){var e=0,n=g.control(this.id).container.find("select"),i=this(),a="",o=n.data("connected-variant"),r=(n.data("inherit"),g.control(o).container.find("select")),s=g.control(o).container.find(".ast-font-variant-hidden-value"),c="",u="",l=r.data("inherit"),d=astraTypo,p=s.val().split(",");"Google"==(n.find('option[value="'+n.val()+'"]').closest("optgroup").attr("label")||"")?r.parent().removeClass("ast-hide"):r.parent().addClass("ast-hide");i=AstTypography._cleanGoogleFonts(i);var v=AstTypography._getWeightObject(i);d.inherit=l;for(e=0;e<v.length;e++){for(var h=0;h<p.length;h++)a=v[e]===p[h]?(c=v[e],' selected="selected"'):v[e]==c?' selected="selected"':"";u+='<option value="'+v[e]+'"'+a+">"+d[v[e]]+"</option>"}r.html(u),t||g(o).set("")}},p(function(){AstTypography.init()})}(jQuery);