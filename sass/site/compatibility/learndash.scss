/**
 * LearnDash Compatibility
 */

/**
 * Astra Theme compatibility with LearnDash
 */
@import "../mixins/mixins-master";
@import "../../grid/variables";
@import "../variables-site/structure";
@import "../variables-site/colors";


.learndash,
#learndash_profile {
	.completed,
	.notcompleted {

		&:before {
			content: "\e901";
			display: inline-block;
			font-family: 'Astra';
			font-weight: bold;
			text-rendering: auto;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
			float: left;
			text-indent: 0;
			font-size: 1.25em;
			line-height: 1.3;
		}
	}
}

.learndash {

	.completed:before,
	.notcompleted:before {
		width: 1.25em;
		position: absolute;
		top: 8px;
		right: .75em;
	}
	.topic-completed span,
	.topic-notcompleted span {
		background: none;
		padding: 0;

		&:before {
			content: "\26AB";
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
			font-size: 1.75em;
		}
	}
}

#learndash_course_certificate {
	.btn-blue {
		display: inline-block;
	}
}

body {
	.learndash,
	#learndash_profile {
		.completed,
		.notcompleted {
			line-height: 1.7;
			background: none;
		}
	}
	
	.learndash {
		.topic-completed span,
		.topic-notcompleted span {
			background: none;
			padding: 0;
		}
	}

	// Course List.
	#ld_course_list {
		
		#ld_topic_categorydropdown,
		#ld_lesson_categorydropdown,
		#ld_course_categorydropdown {
			margin-bottom: 1em;
		}

		.ld_course_grid {
			.caption {
				padding: 15px;
				position: relative;

				*:last-child {
					margin-bottom: 0;
				}

				.entry-title {
					margin-bottom: 5px;
				}
			}
		}
	}

	dd.course_progress {
		width: 100%;
	}

	.learndash_navigation_lesson_topics_list,
	.learndash_topic_dots {
		ul {
			.topic-notcompleted span {
				margin: 5px 0;
			}

			.topic-completed span,
			.topic-notcompleted span {
				padding-left: 0;
				background: none;
				margin: 5px 0;

				&:before {
					content: "\26AB";
					-webkit-font-smoothing: antialiased;
					-moz-osx-font-smoothing: grayscale;
					font-size: 1.1em;
					font-weight: normal;
					margin-right: 5px;
				}
			}
		}
	}

	.widget_course_return,
	#course_navigation .widget_course_return a,
	#learndash_lessons,
	#learndash_quizzes,
	.expand_collapse,
	.notavailable_message,
	#learndash_lesson_topics_list div > strong,
	#learndash_lesson_topics_list div ul > li .sn,
	.learndash_profile_heading,
	#learndash_profile a,
	#learndash_profile div,
	#learndash_lessons a,
	#learndash_quizzes a,
	.expand_collapse a,
	.learndash_topic_dots a,
	.learndash_topic_dots a > span,
	#learndash_lesson_topics_list span a {
		font-size: 1rem;
		font-weight: inherit;
	}

	#course_list {
		> div h4 > a {
			padding: 5px .75em;
		}

	}

	#course_list,
	#lessons_list,
	#quiz_list {
		.list-count {
			border-right: none;
			pointer-events: none;
			min-width: 2.5em;
		}

		.is_not_sample {
			.list-count {
				color: gray;
			}
		}

		> div {
			border: none;
			&:nth-of-type(odd) {
				background: #fbfbfb;
			}
			h4 > a {
				padding: 8px 2.5em;
				margin-left: -2.5em;
				margin-left: calc( -2.5em - 1px );
				position: relative;
			}
		}
	}

	#learndash_lessons #lesson_heading,
	#learndash_profile .learndash_profile_heading,
	#learndash_quizzes #quiz_heading,
	#learndash_lesson_topics_list div > strong {
		padding: 10px .75em;
	}

	#learndash_lessons .right,
	#learndash_quizzes .right {
		width: auto;
	}

	.expand_collapse,
	#learndash_profile .expand_collapse {
		top: -1em;
		a {
			font-size: .8em;
		}
	}

	.list_arrow {

		&.collapse, 
		&.expand {
			background: none;
			padding: 10px;
			line-height: 1.5;
			vertical-align: top;
		}

		&:before {
			content: "\e900";
			display: inline-block;
			font-family: 'Astra';
			font-weight: bold;
			text-rendering: auto;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
			font-size: .8em;
		}

		&.collapse {
			background-position: 50% .5em;
			&:before {
				transform: rotate(270deg);
			}		
		}
	}

	#course_navigation {
		.learndash_navigation_lesson_topics_list {
			.list_lessons {
				margin-bottom: 5px;
			}
			.lesson {
				margin: 0 0 0 5px;
			}

			.list_arrow {
				background: none;
				line-height: inherit;
			}
		}
	}

	.widget_sfwd-lessons-widget {
		ul {
			padding: 0;
			li a {
				font-size: 1rem;
				line-height: 1.75;
			}
		}
	}

	// Profile.
	#learndash_profile {
		border: none;
    	box-shadow: none;

		.course_overview_heading,
		.no_radius {
			border-radius: 0;
		}

		.profile_info,
		#course_list {
			box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);

			.flip > div {
				&:nth-child(2) {
					display: flex;
					margin-bottom: 1em;
				}
				.course_progress {
					margin: 0 auto;
					width: auto;
					flex: 4;
				}
				.right {
					padding: 0 .75em;
					text-align: right;
					flex: 1;
				}
			}

			.certificate_icon_large {
				background: none;
				height: auto;
				line-height: 1;

				&:before {
				    content: "\e902";
				    font-family: 'Astra';
				    text-rendering: auto;
				    -webkit-font-smoothing: antialiased;
				    -moz-osx-font-smoothing: grayscale;
				    font-size: 1.5em;
				    line-height: .9;
				}
			}
		}

		.profile_info {
			margin-bottom: 1em;
		}

		.course_progress,
		.learndash-course-link {
			margin-left: auto;
			margin-right: auto;
		}

		.learndash_profile_heading {

			&.course_overview_heading {
				padding-left: 0;
				background: none;
				color: inherit;
				font-weight: bold;
			}

			.ld_profile_certificate {
				margin: auto;
				padding-right: 10px;
			}
			
			.ld_profile_status {
				text-align: right;
				width: auto;
		    	padding-left: 10px;
			}
		}

		.learndash-course-certificate,
		.learndash-course-link,
		.learndash-course-status {
			margin: 0 auto;

			a {
				line-height: inherit;
				padding: 10px 0;
			}
		}

		.learndash-course-link {
			width: calc( 100% - 140px - .75em );
		}

		.learndash-course-certificate {
			padding: 0 .75em;
			width: 90px;
		}
		.learndash-course-status {
			padding: 0 .75em;
			width: 50px;
			width: calc( 50px + .75em );

			a:before {
				margin-left: .75em;
			}
		}

		.learndash_profile_details > div {
			margin-top: 0;
		}

		.profile_edit_profile a {
			font-size: .75em;
		}

		.list_arrow {
			border-right: none;
			min-width: 2.5em;
			cursor: pointer;
		}
	}

	#learndash_course_content {
		.learndash_topic_dots {

			ul > li {
		
				&,
				&:hover,
				&.nth-of-type-odd {
					background: transparent;
				}

				a {
					padding: 0 .75em 0 0;
				}
			}
		}
	}

	#learndash_course_content_title {
		margin-bottom: 10px;
		font-weight: 600;
	}

	#learndash_lessons,
	#learndash_quizzes {
		h4 > a:hover {
			background: none;
		}
		border: none;
	}
	#learndash_lesson_topics_list {
		ul > li > span.topic_item:hover {
			background: none;
		}
	}

	// Widgets.
	.widget_sfwd-certificates-widget,
	.widget_sfwd-transactions-widget,
	.widget_sfwd-courses-widget {
		h4 {
			font-size: 1em;
			line-height: inherit;
		}
	}
	.widget_ldcourseinfo {
		#course_progress_details {
			margin-top: 1em;
		}
		h4 {
			font-size: 1.2em;
			margin-bottom: 5px;
		}

		.ld-course-info-my-courses {
			vertical-align: top;
			margin-bottom: 5px;
			line-height: 1.5;
			display: inline-block;

			img {
				vertical-align: top;
				margin-right: .5em;
				display: inline-block;
				float: left;
			}
			
			h2.ld-entry-title {
				font-size: 1em;
				width: calc(70% - .5em);
				display: inline-block;
			}
		}
	}

	a#quiz_continue_link,
	.btn-blue,
	.learndash_checkout_button input[type="submit"] {
		font-size: 1em;
	}

	.wpProQuiz_content {
		.wpProQuiz_questionList {
			margin-bottom: 1em;
			padding: 1em;
			background: #fbfbfb;
			border-color: #e2e2e2;
		}

		.wpProQuiz_tipp {
			> div {
				padding: 10px 15px;
				border-radius: 2px;
				left: 0;
				bottom: 12px;
				background: #fff;
				border: 1px solid #ccc;
				box-shadow: 0px 0px 4px 0px #ccc;
				max-width: 500px;

				.wpProQuiz_header {
					font-weight: 600;
					border-bottom: 1px solid #e2e2e2;
					padding-bottom: 5px;
				}

				> p:last-child {
					margin-bottom: .5em;
				}

				&:before,
				&:after {
					content: " ";
					position: absolute;
					transform: translateY(100%);
				}

				&:before {
					bottom: 0px;
					border-left: 8px solid transparent;
					border-top: 8px solid #eee;
					border-right: 8px solid transparent;
					border-top-color: rgba(0, 0, 0, 0.2);
					left: 15px;
				}

				&:after {
					left: 16px;
					bottom: 1px;
					border-left: 7px solid transparent;
					border-top: 7px solid #ffffff;
					border-right: 7px solid transparent;
				}
			}
		}

		.wpProQuiz_resultName {
			width: 120px;
			padding-right: 10px;
		}

		.wpProQuiz_response {
			background: none;
			box-shadow: none;
			border: 0;
			padding: 0;
		}

		.wpProQuiz_incorrect {
			padding: 5px 1em;
			border: 1px solid #ff0000;
			color: #ff0000;
			background: rgba(255, 0, 0, 0.2);

			p:last-child{
				margin-bottom: 0;
			}
		}
		.wpProQuiz_correct {
			padding: 5px 1em;
			border: 1px solid #6db46d;
			color: #6db46d;
			background: rgba(109, 180, 109, .2);

			p:last-child{
				margin-bottom: 0;
			}
		}

		.wpProQuiz_questionListItem,
		.wpProQuiz_questionListItem:last-child {
			padding: 0 10px;
			input {
				margin-right: 5px;
			}
		}

		.wpProQuiz_answerIncorrect,
		.wpProQuiz_answerCorrect {

			&,
			&:last-child {
				padding: 5px 10px;
				background: none;
			}
		}

		.wpProQuiz_answerIncorrect,
		.wpProQuiz_answerIncorrect:last-child {
			color: #ff0000;
		}

		.wpProQuiz_answerCorrect,
		.wpProQuiz_answerCorrect:last-child {
			background-color: #6db46d;
			color: #fff;
		}

		.wpProQuiz_lock,
		.wpProQuiz_loadQuiz {
			p {
				margin: 1em;
			}
		}

		.wpProQuiz_box,
		.wpProQuiz_reviewQuestion {
			border-color: #e2e2e2;
			background-color: #fbfbfb;

			li {
				min-width: 2.5em;
				height: 2.5em;
				line-height: 2.5;
				padding: 0;
				border-color: #e2e2e2;
				box-shadow: none;
				font-weight: 600;
			}
		}

		.wpProQuiz_reviewColor {
			margin-right: 5px;
			height: .75em;
			width: .75em;
		}

		.wpProQuiz_reviewLegend {
			li {
				margin-right: .75em;
				padding: 0;
			}
		}

		.wpProQuiz_button2 {
			padding: 5px 15px;
			border: none;
		}
	}

}